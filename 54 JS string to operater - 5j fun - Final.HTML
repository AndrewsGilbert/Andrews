<html>

<title>string conversation</title>

<h2>string conversation</h2>

<label for = "str" > Enter the String </label>

<input type = "text" id = "str" >

<button onclick = "getstring()" >Submitt</button>

<p> The Given string = <span id="demo1"></span></p>

<p>The converted string is = <span  id="demo2"></span></p>

<p>The converted string in function = <span  id="demo3"></span></p>

<script>

function getstring() {

var expr = document.getElementById("str").value; 
 
document.getElementById("demo1").innerHTML = expr;

conexp(expr);

}

function conexp(expr) {


var a = Array.from(expr); 

num1 = [];
ope = [];
num2 = [];

for ( i=0; i < a.length; i++ ) { 

var b = Number(a[i]);

var c = Number.isNaN(b);


if (!c || a[i] === '.' )  { if ( ope.length > 0 ) { num2.push(ope.pop()); ope.splice(0,ope.length);  num1.push(a[i]); } 

								else {	num1.push(a[i]);}	}


else  { if ( num1.length > 0 ) {  d = num1.join(""); num2.push(Number(d));    num1.splice(0,d.length);  ope.push(a[i]); } 

else { ope.push(a[i]); } } 


if ( i === a.length -1 ) { d = num1.join(""); num2.push(Number(d)); } 

}  

numbe1 = num2;

dive(numbe1);


}  
	
function dive(numbe1) { 
	
for ( j=1;  j< numbe1.length; j++) {

	for ( i=1;  i< numbe1.length; i++) {
	
	var di = numbe1.includes("/",i);
	

		if (di) { 
		
		a = numbe1.indexOf("/",i);   b = (numbe1.indexOf("/",i))-1;   c = Number(numbe1[b]);  d = Number.isNaN(c); 
 
			if (!d) {  numbe1[a] = c; numbe1[b] = "/"; }
			
				} } }
				
			 multi(numbe1);
			
				}

function multi(numbe1) {

for ( j=1;  j< numbe1.length; j++) {

	for ( i=1;  i< numbe1.length; i++) {

		var mu = numbe1.includes("*",i);
		
	 if (mu) { 
		
		a = numbe1.indexOf("*",i);   b = (numbe1.indexOf("*",i))-1; c = Number(numbe1[b]);  d = Number.isNaN(c); 
 
			if (!d) {  numbe1[a] = c; numbe1[b] = "*"; }
			
			else { c = numbe1[b]; if ( c === "/"  ) {   numbe1[a] = c; numbe1[b] = "*"; } }
			
			} } }
		
		subs(numbe1);
			
			}
			
	
function subs(numbe1) {

for ( j=1;  j< numbe1.length; j++) {

	for ( i=1;  i< numbe1.length; i++) {
	
		var su = numbe1.includes("-",i);
		
	 if (su) { 
		
		a = numbe1.indexOf("-",i);   b = (numbe1.indexOf("-",i))-1; c = Number(numbe1[b]);  d = Number.isNaN(c); 
 
			if (!d) {  numbe1[a] = c; numbe1[b] = "-"; }
			
			else { c = numbe1[b];  if ( c === "/" || c === "*" ) {   numbe1[a] = c; numbe1[b] = "-"; } }
			
			} } }
			
			addn(numbe1);

			} 			
			
					
function addn(numbe1) {

for ( j=1;  j< numbe1.length; j++) {

	for ( i=1;  i< numbe1.length; i++) {

		var ad = numbe1.includes("+",i);
		
	 if (ad) { 
		
		a = numbe1.indexOf("+",i);   b = (numbe1.indexOf("+",i))-1; c = Number(numbe1[b]);  d = Number.isNaN(c); 
 
			if (!d) {  numbe1[a] = c; numbe1[b] = "+";}
			
			else { c = numbe1[b]; if ( c === "/" || c === "*" || c === "-"  ) {   numbe1[a] = c; numbe1[b] = "+"; } }
			
			} } }
			
			document.getElementById("demo2").innerHTML = numbe1;
			
			de(numbe1);
			}
			
function de(a) { 


for (i=0; i<a.length; i++) {

if ( a[i] == '/' ) { a[i] = 'div'; }

 if ( a[i] == '*' )  { a[i] = 'mul'; }

 if ( a[i] == '-' ) { a[i] = 'sub'; }

 if ( a[i] == '+' ) { a[i] = 'add'; }
 
 }


for ( i=a.length-1; i>=0; i--) {  


if (  a[i] == 'div' || a[i] == 'mul' || a[i] == 'sub' || a[i] == 'add' ) { 

a.splice( i+1,0,'('); a.splice( i+4,0,')'); 

b = a.splice(i+2,2); c = b.join();

a.splice(i+2,0,b);  

d = a.splice(i,4);

e = d.join("");  

a.splice(i,0,e); 

}  }


document.getElementById("demo3").innerHTML = a; console.log(a);

} 
			
			
			
</script>

</html>