<html>

<title>Domain Model</title>

<h2>Possibble Path</h2>


<p><span id="demo1"></span></p>

<p><span id="demo2"></span></p>



<script>

var places = { A:{name:"A",val:0,vertex:{ B:["AB",5],D:["AD",3] }} , B:{name:"B",val:111,vertex:{ A:["BA",5],C:["BC",2]} }, 
				
				C:{name:"C",val:111,vertex:{ B:["CB",2],D:["CD",4]} } , D:{name:"D",val:111,vertex:{ A:["DA",3],C:["DC",4]} }  };


var path = [];

var value = [];

var visitednode = [];
var visitededge = [];

var possiblepath = {};
var pathvalue = {};


var z = "A"; //starting place

var p = "A"; //ending place

var x = z;

path[0] = z;  


allpaths();  

function allpaths() { 



for ( node in Object.keys(places[x].vertex) ){  if ( !visitednode.includes(x)) { visitednode.push(x);} s = Object.keys(places[x].vertex)[node];

		if ( s !== z && !path.includes(s) ){  
		
			if ( !visitededge.includes( places[x].vertex[s][0] )) { places[s].val = places[x].val + places[x].vertex[s][1];
				
						visitededge.push(places[x].vertex[s][0]); path.push(s); x = s;  allpaths();}} 
						
						
		
			else if ( s == z && visitednode.length == Object.keys(places).length ) { places[s].val = places[x].val + places[x].vertex[s][1];
			
						visitededge.push(places[x].vertex[s][0]); path.push(s); possiblepath[Object.keys(possiblepath).length] = path.slice(0,path.length); 
							
							pathvalue[Object.keys(pathvalue).length] = places[s].val; 
							} 
							
							
							}   //if ( s !== z && path.includes(s) ){ path.splice(0,path.length-1); visitednode.splice(0,visitednode.length); x = z; allpaths(); }
							
							}; 
							
if ( Object.keys(possiblepath).length >= 1 && Object.keys(possiblepath).length < 2*(Object.keys(places).length)-1 ) {  places[z].val = 0; path.splice(0,path.length-1); visitednode.splice(0,visitednode.length); x = z; allpaths(); }						



	
console.log(path);



console.log(possiblepath);


console.log(pathvalue);


/*
document.getElementById("demo1").innerHTML = "The distance between "+z+" and "+p+" is "+val[p];
document.getElementById("demo2").innerHTML = path;

console.log('cost at y', val[z] );

console.log('path to path', pre);

console.log(path); 

console.time();
console.timeEnd(); */





</script>

</html>



